import numpy as np

N=3
rng = np.random.default_rng()
def unit_vector():
    v=rng.uniform(-1,1,3)
    l=np.linalg.norm(v)
    if l==0.0:
        return v
    return v/l

g=np.empty((N+1,N+1,N+1,3))
for i in range(N+1):
    for j in range(N+1):
        g[i][j][0]=unit_vector()

for k in range(1,N+1):
    g[:,:,k]=g[:,:,0]
    rng.shuffle(g[:,:,k],axis=0)
    rng.shuffle(g[:,:,k],axis=1)

print(g.shape)
print(g)



'''
g[0:4,0:4,0:4,0:3]= \
[[[[ 0.62450989, -0.49190189, -0.60664645],
   [ 0.62450989, -0.49190189, -0.60664645],
   [ 0.54887237, -0.76261227,  0.34228883],
   [-0.61447954, -0.72484175, -0.31147926],],
  [[-0.62902416,  0.74493184,  0.22227272],
   [ 0.39068867,  0.85054969, -0.35203351],
   [ 0.72937623, -0.57109661, -0.37664172],
   [-0.40904078, -0.47955555,  0.77634536],],
  [[ 0.39068867,  0.85054969, -0.35203351],
   [-0.62902416,  0.74493184,  0.22227272],
   [-0.55209952,  0.2254187,   0.80272818],
   [ 0.09414975,  0.32221831, -0.94197197],],
  [[-0.81287563, -0.23908381,  0.53110464],
   [-0.81287563, -0.23908381,  0.53110464],
   [-0.77236175, -0.06152235, -0.63219643],
   [-0.17455441,  0.07514704, -0.98177578],],],
 [[[-0.17455441,  0.07514704, -0.98177578],
   [ 0.54887237, -0.76261227,  0.34228883],
   [ 0.33134432, -0.86212649,  0.38333908],
   [ 0.59402392, -0.31007932, -0.74228458],],
  [[-0.40904078, -0.47955555,  0.77634536],
   [-0.55209952,  0.2254187,   0.80272818],
   [ 0.59402392, -0.31007932, -0.74228458],
   [-0.62428443, -0.74704538, -0.22845601],],
  [[ 0.09414975,  0.32221831, -0.94197197],
   [-0.77236175, -0.06152235, -0.63219643],
   [ 0.1669974 ,  0.43051806, -0.88699835],
   [ 0.1669974,   0.43051806, -0.88699835],],
  [[-0.61447954, -0.72484175, -0.31147926],
   [ 0.72937623, -0.57109661, -0.37664172],
   [-0.62428443, -0.74704538, -0.22845601],
   [ 0.33134432, -0.86212649,  0.38333908],],],
 [[[ 0.33134432, -0.86212649,  0.38333908],
   [ 0.33134432, -0.86212649,  0.38333908],
   [ 0.62450989, -0.49190189, -0.60664645],
   [-0.81287563, -0.23908381,  0.53110464],],
  [[-0.62428443, -0.74704538, -0.22845601],
   [ 0.1669974 ,  0.43051806, -0.88699835],
   [-0.81287563, -0.23908381,  0.53110464],
   [-0.62902416,  0.74493184,  0.22227272],],
  [[ 0.1669974 ,  0.43051806, -0.88699835],
   [-0.62428443, -0.74704538, -0.22845601],
   [ 0.39068867,  0.85054969, -0.35203351],
   [ 0.39068867,  0.85054969, -0.35203351],],
  [[ 0.59402392, -0.31007932, -0.74228458],
   [ 0.59402392, -0.31007932, -0.74228458],
   [-0.62902416,  0.74493184,  0.22227272],
   [ 0.62450989, -0.49190189, -0.60664645],],],
 [[[ 0.54887237, -0.76261227,  0.34228883],
   [-0.17455441,  0.07514704, -0.98177578],
   [-0.17455441,  0.07514704, -0.98177578],
   [ 0.72937623, -0.57109661, -0.37664172],],
  [[-0.77236175, -0.06152235, -0.63219643],
   [ 0.09414975,  0.32221831, -0.94197197],
   [-0.61447954, -0.72484175, -0.31147926],
   [-0.77236175, -0.06152235, -0.63219643],],
  [[-0.55209952,  0.2254187,   0.80272818],
   [-0.40904078, -0.47955555,  0.77634536],
   [ 0.09414975,  0.32221831, -0.94197197],
   [-0.55209952,  0.2254187,   0.80272818],],
  [[ 0.72937623, -0.57109661, -0.37664172],
   [-0.61447954, -0.72484175, -0.31147926],
   [-0.40904078, -0.47955555,  0.77634536],
   [ 0.54887237, -0.76261227,  0.34228883],],],]

'''
